\documentclass{article}
\usepackage{xsim}

\DeclareExerciseCollection[difficulty=easy]{easy}
\DeclareExerciseCollection[difficulty=medium]{medium}
\DeclareExerciseTagging{difficulty}

\usepackage{lipsum}

\begin{document}

\begin{exercise}
  outside before
\end{exercise}

\collectexercises{easy,medium}
\begin{exercise}[difficulty=easy,points=1]
  foo one \lipsum[4]
\end{exercise}
\begin{solution}
  foo one \lipsum[4]
\end{solution}
\begin{exercise}[difficulty=medium,points=1]
  foo two \lipsum[4]
\end{exercise}
\begin{solution}
  foo two \lipsum[4]
\end{solution}
\begin{exercise}[difficulty=easy,points=1]
  foo three \lipsum[4]
\end{exercise}
\begin{solution}
  foo three \lipsum[4]
\end{solution}
\collectexercisesstop{easy,medium}

\section{Easy}
\printcollection{easy}

\section{Medium}
\printcollection{medium}

\printsolutions[difficulty=medium]

\end{document}
