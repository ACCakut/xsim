\documentclass{article}
\usepackage{xsim,lipsum,tcolorbox}

\DeclareExerciseType{exercise}{
  exercise-env = exercise ,
  solution-env = hint ,
  exercise-name = Exercise ,
  solution-name = Hint ,
  exercise-template = subsection* ,
  solution-template = subsection* ,
  counter = question % shares a counter with the `question' type
}

\DeclareExerciseType{problem}{
  exercise-env = problem ,
  solution-env = answer ,
  exercise-name = Problem ,
  solution-name = Answer ,
  exercise-template = tcolorbox ,
  solution-template = tcolorbox
}

\DeclareExerciseProperty{grade}
\DeclareExerciseProperty{difficulty}

\DeclareExerciseTemplate{tcolorbox}
  {%
    \vspace{\baselineskip}
    \tcolorbox[
      colback = red!5!white ,
      colframe = red!75!black ,
      title = \GetExerciseProperty{name}~\GetExerciseProperty{counter}
      \IfExercisePropertySetTF{points}{%
        (\GetExerciseProperty{points}
        \ExerciseGoalName{points}
          {\XSIMtranslate{point}}
          {\XSIMtranslate{points}})%
      }{}]
  }
  {%
    \endtcolorbox
    \vspace{\baselineskip}
  }

% \xsimsetup{
%   tags = {geometry} ,
%   ingore-untagged % if true untagged question will be printed regardless which
%                   % tags  have been chose 
% }

\begin{document}

Total: \printtotalpoints \par
from questions: \printpoints{question} \par
from exercises: \printpoints{exercise} \par
from problems: \printpoints{problem} \par \bigskip

Total bonus: \printtotalbonus \par
from questions: \printbonus{question} \par
from exercises: \printbonus{exercise} \par
from problems: \printbonus{problem} \par


\begin{question}[points=4,bonus-points=1,topic=geometry,tags={geometry,triangles},grade=7]
  \lipsum[1]
\begin{verbatim}
foo x^2 y^3
\end{verbatim}
\end{question}
\begin{solution}[print]
  This is the solution for the first \ExerciseType.
\end{solution}

% \end{document}

\begin{question}[subtitle=Foo,points=5,topic=analysis,tags={analysis,functions},grade=11]
  \lipsum[2]
\end{question}
% \begin{solution}
% \end{solution}

% \end{document}

\begin{problem}
  \lipsum[3]
\end{problem}
% \begin{answer}
% \end{answer}

% \end{document}

\begin{exercise}
  \lipsum[4]
\end{exercise}
% \begin{hint}
% \end{hint}

% \end{document}

\begin{problem}[points=2]
  \lipsum[3]
\end{problem}
% \begin{answer}
% \end{answer}

\begin{problem}[points=1]
  \lipsum[3]
\end{problem}
% \begin{answer}
% \end{answer}

\begin{question}
  \lipsum[5]
\end{question}
% \begin{solution}
% \end{solution}

\begin{question}[print=false]
  \lipsum[5]
\end{question}
% \begin{solution}
% \end{solution}

\end{document}

\ExplSyntaxOn
\seq_show:N \l__xsim_goals_seq
\fp_show:N \g__xsim_goal_points_fp
\fp_show:N \g__xsim_question_goal_points_fp
\fp_show:c {g__xsim_goal_bonus-points_fp}
\ExplSyntaxOff

\end{document}

